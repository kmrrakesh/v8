# @trapezegroup/core-js-color
Color related funcitonality and objects.

## Adding icons
### Sanitize the SVG
The SVG supplied may have markup that is not required. Before adding an icon remove all attributes from the SVG that are not required.

If the SVG has a color, swap the color out for a CSS variable (--icon-color is a good choice).

    <path fill="var(--icon-color, optionalDefaultColorHex)" d="M324.88,275a100,100,0,1,0-99.94-100A100,100,0,0,0,324.88,275Z"/>

### Adding the SVG
Either create a new file or add to an existing file in src/lib folder. It should be a JavaScript file that exports an SVG string like so:

    export const myIcon = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 649.97 649.97">
        <path d="M324.88,275a100,100,0,1,0-99.94-100A100,100,0,0,0,324.88,275Z"/>
    </svg>`;
    
The variable name should be camel case.

NOTE: the viewport should form a square for consistency with other icons. This is done via the viewbox attribute. This should be done by the UX team:
    
    viewBox="0 0 649.97 649.97"

### index.js
Add the new icon refernce as an export to index.js.


### Test

Run:

    npm start

Then goto localhost:3000/demo/index.html. Your new icon should appear.

## Usage
### Angular
#### Component
    import { calendar } from '@trapezegroup/core-js-icons/src/lib/calendar';

    get iconCalendar() {
        return calendar;
    }


#### CSS
    .icon-svg {
        --icon-color: var(--col-9);
        width: 2rem;
    }

#### Template
Uses the unsafe pipe from @trapezegroup/core-ng-lib

    <div class="icon-svg" [innerHTML]= "iconCalendar | unsafeHTML"></div>

### LitElemet Web Component
#### Component
    import { calendar } from '@trapezegroup/core-js-icons/src/lib/calendar';

#### CSS
    .icon-svg {
        --icon-color: var(--col-9);
        width: 2rem;
    }

#### Template
    <div class="icon-svg">${unsafeHTML(calendar)}</div>

## Testing

To run both unit and integration tests open command line at the project level and run:

    npm test

### Manual Testing
Open a command line and navigate to where the code was checked out to.
Run:

    npm install
    npm run start

This will start a web sever that you can use to manually run and test the application. You'll need a valid HTML page to load in the browser (one like demo/index.html in the template project).

### Unit

#### Writing
Tests are writen using Jasmine.

To unit test, add unit tests to the test/unit folder. [See here](https://dev.trapsoft.com/confluence/pages/viewpage.action?spaceKey=CORE3&title=Web+Components+-+Project+Folder+Structure) for project structure details and guides.

Look at the [example](https://svn.trapsoft.com/product/WebUI/CoreWU/trunk/core-wc-template/test/unit) project for examples.

#### Running

Karma is used to run the unit tests. By default the tests are run against a headless Chrome.
To run unit tests open command line at the project level and run:

    npm test:unit

After the tests are complete the unit test runner stays active and watches for changes to files. If a file is modified (source or test file) the tests for the effected file are rerun interactively.

To debug the tests open a browser and point it to http://localhost:9876/. You can place 'debugger' statements in your code and they should break point if you have a browser open and pointing to http://localhost:9876/ whilst the test runner is running.

Enter ctrl + C to quit the test runner.

### Interactive mode

VS Code has extentions that can be used to provide interactive linting. One of such is ESLint (dbaeumer.vscode-eslint).