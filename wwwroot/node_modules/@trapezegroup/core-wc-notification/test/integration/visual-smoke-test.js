// eslint-disable-next-line import/no-unresolved
const visualSmokeTest = require('@trapezegroup/core-dev-lib/src/lib/visual-smoke-test');

visualSmokeTest({
    routes: [
        {
            route: 'demo/index.html',
            setup: async page => {
                await page.waitFor(() => !document.querySelector('core-toast'));
                // Fetch element to click but need to peirce shadow dom
                const buttonHandle = await page.evaluateHandle(
                    `document.querySelector('core-notification').shadowRoot.querySelector('core-notification-list').shadowRoot.querySelector('span.icon[notification-count]')`,
                );
                await buttonHandle.click();
            },
        },
    ],
});
