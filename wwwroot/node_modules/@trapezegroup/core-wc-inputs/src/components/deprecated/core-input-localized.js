/* eslint-disable require-jsdoc */
// @ts-check
import { EventKeys, eventStop } from '/node_modules/@trapezegroup/core-js-extensions/src/lib/event.js';
import { CoreInputBase } from './core-input-base.js';
import { EditorAdvice } from './core-inline-editor.js';

export class CoreInputLocalized extends CoreInputBase {
    static CONTROLLER_ADVICE_KEYDOWN = function CONTROLLER_ADVICE_KEYDOWN(event) {
        if (event.keyCode === EventKeys.KEY_RETURN) {
            eventStop(event);
            return EditorAdvice.COMMIT;
        }

        return EditorAdvice.CONTINUE;
    };

    constructor() {
        super();
    }

    initDataType() {
        this.dataType.initLocale(this);
    }

    getDataType() {
        // this.dataType.fromString(this.getDisplayValue());
        return this.dataType;
    }

    getDisplayValue() {
        return this.dataType.toString();
    }
}

customElements.define('core-input-localized', CoreInputLocalized);
